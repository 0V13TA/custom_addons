/* HEMIS Theme Styles */

// Header Styling
.hemis_header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: white !important;
  padding: 0.5rem 1rem;
  color: #0165fc;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  height: 70px;
  width: 100%;

  .hemis_logo {
    flex: 0 0 auto;

    img {
      height: 100px;
      width: 100px;
    }
  }

  .hemis_title {
    flex: 1 1 auto;
    text-align: center;

    h1 {
      font-size: 1.5rem;
      margin: 0;
      font-weight: 600;
    }

    h2 {
      font-size: 1.1rem;
      margin: 0;
      font-weight: 400;
    }
  }

  .hemis_user {
    flex: 0 0 auto;
    display: flex;
    align-items: center;

    .user_info {
      display: flex;
      flex-direction: column;
      align-items: flex-end;

      .user_name {
        font-weight: 600;
        font-size: 1rem;
      }

      .o_logout {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;

        &:hover {
          color: white;
        }
      }
    }
  }
}

// Menu Styling
.hemis_menu {
  background-color: #f0f0f0;
  border-right: 1px solid #ddd;
  width: 250px;

  .menu_header {
    background-color: #0165fc;
    color: white;
    padding: 1rem;
    font-weight: 600;
    font-size: 1.1rem;
    text-align: center;
  }

  .menu_items {
    list-style: none;
    padding: 0;
    margin: 0;

    .menu_item {
      border-bottom: 1px solid #ddd;

      a {
        display: block;
        padding: 0.8rem 1rem;
        color: #333;
        text-decoration: none;
        transition: background-color 0.2s;

        &:hover {
          background-color: #e0e0e0;
        }

        &.active {
          background-color: #0165fc;
          color: white;
        }
      }
    }
  }

  // Admin-specific styling
  .admin_menu {
    .menu_header {
      background-color: #774b97; // Different color for admin
    }

    .menu_items .menu_item a.active {
      background-color: #774b97;
    }
  }
}

// Apps Display
.hemis_apps {
  padding: 2rem;

  .apps_grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1.5rem;

    .app_item {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;

      &:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      }

      .app_icon {
        width: 64px;
        height: 64px;
        margin-bottom: 1rem;

        i {
          font-size: 2.5rem;
          color: #0165fc;
        }
      }

      .app_name {
        font-weight: 600;
        color: #333;
      }

      .app_description {
        font-size: 0.85rem;
        color: #666;
        margin-top: 0.5rem;
      }
    }
  }

  // Admin apps styling
  .admin_apps .apps_grid .app_item .app_icon i {
    color: #774b97; // Different color for admin
  }
}

// Main content area
.o_content {
  background-color: #f8f9fa;
  padding: 1.5rem;
}

// Dashboard cards
.dashboard_card {
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 1.5rem;
  margin-bottom: 1.5rem;

  .card_title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: #0165fc;
  }

  .card_content {
    color: #444;
  }
}

// Custom modifications to Odoo UI elements
.o_main {
  background-color: #f8f9fa;
}

.o_form_view {
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 1.5rem;
}

.o_list_view {
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Blue header styling */
.o_main_navbar {
  background-color: #0165fc !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);

  /* Menu items */
  .o_menu_brand,
  .o_menu_sections a,
  .dropdown-toggle {
    color: white !important;
  }

  /* Active and hover states */
  .o_menu_sections a:hover,
  .o_menu_sections a.active,
  .dropdown-item:hover,
  .dropdown-toggle:hover {
    background-color: #0165fc !important;
  }

  /* HEMIS Persistent Underline (Storage Based) */
  .hemis-persist-underline {
    position: relative !important; /* Needed for absolute positioning of underline */
    background-color: rgba(255, 255, 255, 0.1) !important; /* Slight highlights bg */
  }

  .hemis-persist-underline::after {
    content: '' !important;
    position: absolute !important;
    left: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 4px !important; /* Generous thickness */
    background-color: white !important;
    z-index: 9999 !important; /* Force on top */
    box-shadow: 0 -1px 2px rgba(0,0,0,0.2) !important; /* Slight shadow for pop */
  }

  /* Dropdown menus - Fixed styling */
  .dropdown-menu {
    background-color: #0165fc !important;
    border: none !important;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;

    .dropdown-item {
      color: white !important;
      background-color: transparent !important;

      &:hover,
      &:focus,
      &:active {
        background-color: #0165fc !important;
        color: white !important;
      }

      /* Target specific label elements */
      .o_menuitem_label,
      span,
      a {
        color: white !important;
      }
    }

    /* Dividers in dropdown */
    .dropdown-divider {
      border-color: rgba(255, 255, 255, 0.2) !important;
    }
  }
}

/* Additional specific targeting for dropdown items */
.o_main_navbar .dropdown-menu .dropdown-item {
  color: white !important;

  &:hover,
  &:focus,
  &:active {
    background-color: #0165fc !important;
    color: white !important;
  }
}

.oi, .fa {
    font-weight: 400;
    color: #0165fc !important;
}

/* Target the specific label inside dropdown items */
.o_main_navbar .dropdown-menu .dropdown-item .o_menuitem_label {
  color: white !important;

  &:hover,
  &:focus {
    color: white !important;
  }
}

/* Target any nested elements in dropdown items */
.o_main_navbar .dropdown-menu .dropdown-item * {
  color: white !important;
}

/* AGGRESSIVE targeting for dropdown section headers in Odoo 18 */
.o_main_navbar .dropdown-menu .dropdown-header,
.o_main_navbar .dropdown-menu .o_dropdown_header,
.o_main_navbar .dropdown-menu .dropdown-item-text,
.o_main_navbar .dropdown-menu h6,
.o_main_navbar .dropdown-menu .text-muted,
.o_main_navbar .dropdown-menu .dropdown-item.dropdown-header,
.o_main_navbar .dropdown-menu li.dropdown-header,
.o_main_navbar .dropdown-menu .o_menu_header,
.o_main_navbar .dropdown-menu .menu-header {
  color: white !important;
  font-weight: 500 !important;
  background-color: transparent !important;
}

/* Nuclear option - target ALL text elements in dropdown menus */
.o_main_navbar .dropdown-menu,
.o_main_navbar .dropdown-menu *,
.o_main_navbar .dropdown-menu li,
.o_main_navbar .dropdown-menu li *,
.o_main_navbar .dropdown-menu .dropdown-item,
.o_main_navbar .dropdown-menu .dropdown-item *,
.o_main_navbar .dropdown-menu .dropdown-header,
.o_main_navbar .dropdown-menu .dropdown-header * {
  color: white !important;
}

/* Override Bootstrap's text-muted specifically */
.dropdown-menu .text-muted,
.dropdown-menu .dropdown-header,
.dropdown-menu li.dropdown-header,
.o_main_navbar .dropdown-menu .text-muted,
.o_main_navbar .dropdown-menu .dropdown-header,
.o_main_navbar .dropdown-menu li.dropdown-header {
  color: white !important;
}

/* Add custom header above the main navbar */
.hemis_custom_header {
  background-color: #0165fc !important;
  color: white !important;
  padding: 10px 0;

  .hemis_logo {
    height: 60px;
    width: auto;
    max-width: 180px !important;
    object-fit: contain !important;
  }

  .hemis_title {
    font-size: 22px;
    margin: 0;
  }

  .header_right {
    text-align: right;
  }
}

body .o_web_client .o_main_navbar {
  background-color: #0165fc !important;
}

html body .o_web_client header.o_main_navbar {
  background-color: #0165fc !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  color: white !important;
}

/* Custom "Create/Add New" button styling */
.o_list_button_add,
.o-kanban-button-new,
.o_form_button_create {
  background-color: #0165fc !important; /* Match your HEMIS blue */
  color: white !important;
  border-color: #0165fc !important;
  border-radius: 4px !important;
  font-weight: 500 !important;
  text-transform: uppercase !important;
  font-size: 0.85rem !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  transition: all 0.2s ease !important;
}

.o_list_button_add:hover,
.o-kanban-button-new:hover,
.o_form_button_create:hover {
  background-color: #0165fc !important; /* Darker blue on hover */
  border-color: #0165fc !important;
  color: white !important; /* Ensure text stays white on hover */
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15) !important;
}

/* Fix all button text colors to ensure visibility */
.btn-primary,
.btn-primary:hover,
.btn-primary:focus,
.btn-primary:active {
  background-color: #0165fc !important;
  border-color: #0165fc !important;
  color: white !important; /* Force white text */
}

.btn-primary:hover {
  background-color: #0165fc !important;
  border-color: #0165fc !important;
  color: white !important; /* Keep white text on hover */
}

/* Fix dropdown buttons and action buttons */
.o_dropdown_toggler_btn,
.dropdown-toggle,
.btn-link,
.o_button_import,
.o_list_export_xlsx {
  color: white !important;
}

.o_dropdown_toggler_btn:hover,
.dropdown-toggle:hover,
.btn-link:hover {
  color: rgba(255, 255, 255, 0.8) !important;
}

/* Fix navbar buttons specifically */
.o_main_navbar .btn,
.o_main_navbar .dropdown-toggle,
.o_main_navbar button {
  color: white !important;
}

.o_main_navbar .btn:hover,
.o_main_navbar .dropdown-toggle:hover,
.o_main_navbar button:hover {
  color: white !important;
}

/* Make Save/Edit buttons look like text boxes with the same color */
.o_form_button_save,
.o_form_button_edit {
  background-color: white !important;
  color: #0165fc !important;
  border: 1px solid #0165fc !important;
  border-radius: 4px !important;
  padding: 6px 12px !important;
  font-weight: 500 !important;
  transition: all 0.2s ease !important;
}

.o_form_button_save:hover,
.o_form_button_edit:hover {
  background-color: rgba(
    40,
    102,
    168,
    0.1
  ) !important; /* Light blue background on hover */
  transform: translateY(-1px) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Enhance other form buttons to match theme */
.btn-primary {
  background-color: #0165fc !important;
  border-color: #0165fc !important;
  color: white !important;
}

.btn-primary:hover {
  background-color: #0165fc !important;
  border-color: #0165fc !important;
}

.btn-secondary {
  background-color: #0165fc !important;
  color: white !important;
  border-color: #dee2e6 !important;
}

.btn-secondary:hover {
  background-color: #e2e6ea !important;
  border-color: #dae0e5 !important;
}

/* Style for the discard button */
.o_form_button_cancel {
  color: #6c757d !important;
  background-color: transparent !important;
  border: 1px solid #6c757d !important;
}

.o_form_button_cancel:hover {
  background-color: rgba(108, 117, 125, 0.1) !important;
}

/* Additional button fixes for various Odoo buttons */
.o_main_navbar .o_menu_toggle,
.o_main_navbar .o_notification_manager,
.o_main_navbar .o_switch_company_menu button,
.o_main_navbar .fa,
.o_main_navbar i {
  color: white !important;
}

/* Fix any remaining blue text on blue backgrounds */
.o_main_navbar [style*="color: #0165fc"],
.o_main_navbar [style*="color: rgb(40, 102, 168)"] {
  color: white !important;
}

/* Target specific button classes that might have blue text */
.o_main_navbar .btn-outline-primary,
.o_main_navbar .btn-outline-primary:hover,
.o_main_navbar .btn-outline-primary:focus {
  color: white !important;
  border-color: white !important;
}

.o_main_navbar .btn-outline-primary:hover {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

.hemis_custom_header .hemis_title {
    color: white;
    }